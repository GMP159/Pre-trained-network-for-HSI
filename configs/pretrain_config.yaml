# Pretraining hyperparameters

experiment:
  name: "hsi_cross_domain_pretrain"
  output_dir: "experiments"
  seed: 42

data:
  patches_dir: "data_patches_pca"  # or "data_patches" for full spectrum
  domains: ['coffee', 'grapes', 'pottery', 'sugar', 'paper', 'pottery_full', 'branches']
  batch_size: 16
  num_workers: 0
  pin_memory: true

optimizer:
  type: "AdamW"
  lr: 0.001
  weight_decay: 0.05
  betas: [0.9, 0.999]

scheduler:
  type: "CosineAnnealingWarmRestarts"
  T_0: 10
  T_mult: 2
  eta_min: 0.00001

training:
  num_epochs: 1000
  gradient_clip: 1.0
  mixed_precision: false  # Use AMP for faster training

  # Checkpointing
  save_every: 10
  keep_last_n: 5
  
  # Logging
  log_every: 50
  validate_every: 5

tasks:
  simclr:
    enabled: true
    batch_size: 8
  mae:
    enabled: true
    mask_ratio: 0.75
    batch_size: 8
  background:
    enabled: false  # Optional task
